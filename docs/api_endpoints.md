# API Endpoints

The API consist on several endpoint, all of them answering to at least one user story. For more information, can visit the endpoint `/docs` containing a SwaggerUI generated by the FastAPI app.

- `/routines/recommend/`

  - `GET`: recieves a workout table as query params and returns a recomendation of routines based on that workout table. Returns 200 if success, 400 if invalid workout table.

  <br>

  User Stories:

  - [US.1](https://github.com/marcos-toranzo/SmartFit/issues/11) As a consumer user, I would like to get fit by receiving a list of routines according to my requirements, so I can chose one of them and do it.
  - [US.4](https://github.com/marcos-toranzo/SmartFit/issues/14) As a consumer user, I want to receive my list of recommendation ordered from best suited to worst suited, so I don't waste time looking for the best myself since is complicated to notice it right away.
  - [US.7](https://github.com/marcos-toranzo/SmartFit/issues/17) As a consumer user, I would like to receive the optimal recommendation based on a table of workload provided, so I know that routine will be the best one to do based on my requirements.

<br>
<hr>
<br>

- `/routines/<id>`

  - `GET`: receives an optional id. If provided, will return the routine in a `RoutineModel` with that id and 200 status code, 404 if not found and 400 if invalid id. Else, returns every routine, returning 200.

  <br>

  User Stories:

  - [US.2](https://github.com/marcos-toranzo/SmartFit/issues/12) As a consumer user, I would like to know how good reviewed is a specific routine, so I can judge whether to do it if it has good reviews or not.
  - [US.3](https://github.com/marcos-toranzo/SmartFit/issues/13) As a consumer user, I would like the workload of a routine for every specific part of the body, so I can know if I want to exercise that part or not.

<br>
<hr>
<br>

- `/routines/`

  - `POST`: receives `RoutineModelForCreation`. Creates a new routine based on the information provided. Returns the newly created routine in a `RoutineModel`, and 201 status code on success or 400 on bad request.

  <br>

  User Stories:

  - [US.5](https://github.com/marcos-toranzo/SmartFit/issues/15) As a contributor user, I would like to upload a routine with personalized data, so other users could use it and review it.

<br>
<hr>
<br>

- `/routines/<id>`

  - `PATCH`: receives an `id` and a `RoutineModelForEdition`. Modifies the routine with that id with the provided information. Returns the newly modified routine in a `RoutineModel`, and 200 status code on success, 400 on bad request or 404 on not found.

  <br>

  User Stories:

  - [US.6](https://github.com/marcos-toranzo/SmartFit/issues/16) As a contributor user, I would like to be able to like and review a routine from another user, so other users can see more information about the routine before deciding to do it

<br>
<hr>
<br>

- `/users/<id>`

  - `GET`: receives an `id`. Returns the user with that id in a `UserModel`, and 200 status code on success or 404 on not found.

  <br>

  User Stories:

  - [US.10](https://github.com/marcos-toranzo/SmartFit/issues/49) As a consumer, I want to see me full name in the app so I can tell if the current profile is mine or I have to log in with my profile instead
  - [US.11](https://github.com/marcos-toranzo/SmartFit/issues/59) As a consumer, I would like to check on my personal information like weight or height, to see if there is something outdated.

<br>
<hr>
<br>

- `/users/`

  - `POST`: receives a `UserModelForCreation`. Creates a new user with the provided information. Returns the newly created user in a `UserModel`, and 201 status code on success or 400 on bad request.

  <br>

  User Stories:

  - [US.13](https://github.com/marcos-toranzo/SmartFit/issues/91) As a future consumer, I would like to create a profile to be able to use the app and stay fit and healthy

<br>
<hr>
<br>

- `/users/<id>/fitness-profile`

  - `PATCH`: receives an `id` and a `FitnessProfileModel`. Modifies the user with that id with the provided information. Returns the newly modified user in a `UserModel`, and 200 status code on success, 404 on not found or 400 on bad request.

  <br>

  User Stories:

  - [US.12](https://github.com/marcos-toranzo/SmartFit/issues/60) As a consumer, I would like to be able to edit my personal information like weight or height to match my current status and keep the app updated
